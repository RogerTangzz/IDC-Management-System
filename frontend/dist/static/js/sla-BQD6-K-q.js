import{s as c}from"./index-Cw83YE5u.js";import{k as y,g as C,r as p,d as S,ac as n,ag as h,l as k,m as _,J as l,C as r,D as q,B as U,G as g,q as D}from"./vue-SR65qDCS.js";import"./element-D8D5Bqo2.js";import"./vendor-C71Ev03J.js";function N(){return c({url:"/system/sla",method:"get"})}function R(d){return c({url:"/system/sla",method:"put",data:d})}const A={class:"app-container"},L=y({name:"SlaSettings"}),G=Object.assign(L,{setup(d){const{proxy:i}=C(),v=p(null),o=p({enabled:!0,warnBeforeHours:2,lowHours:24,mediumHours:8,highHours:4}),b={warnBeforeHours:[{required:!0,message:"请输入阈值",trigger:"blur"}],lowHours:[{required:!0,message:"请输入低优先级时限",trigger:"blur"}],mediumHours:[{required:!0,message:"请输入中优先级时限",trigger:"blur"}],highHours:[{required:!0,message:"请输入高优先级时限",trigger:"blur"}]};async function m(){const a=await N();a&&a.data&&(o.value={...o.value,...a.data})}function H(){var a;(a=i.$refs.formRef)==null||a.validate(async e=>{e&&(await R(o.value),i.$modal.msgSuccess("保存成功"),m())})}return S(m),(a,e)=>{const w=n("el-switch"),u=n("el-form-item"),s=n("el-input-number"),f=n("el-button"),V=n("el-form"),x=n("el-card"),B=h("hasPermi");return _(),k("div",A,[l(x,{shadow:"never"},{header:r(()=>e[5]||(e[5]=[D("span",null,"SLA 阈值设置",-1)])),default:r(()=>[l(V,{model:o.value,"label-width":"140px",rules:b,ref_key:"formRef",ref:v},{default:r(()=>[l(u,{label:"启用SLA提醒",prop:"enabled"},{default:r(()=>[l(w,{modelValue:o.value.enabled,"onUpdate:modelValue":e[0]||(e[0]=t=>o.value.enabled=t)},null,8,["modelValue"])]),_:1}),l(u,{label:"即将超时阈值(小时)",prop:"warnBeforeHours"},{default:r(()=>[l(s,{modelValue:o.value.warnBeforeHours,"onUpdate:modelValue":e[1]||(e[1]=t=>o.value.warnBeforeHours=t),min:1,max:72},null,8,["modelValue"])]),_:1}),l(u,{label:"低优先级处理时限(小时)",prop:"lowHours"},{default:r(()=>[l(s,{modelValue:o.value.lowHours,"onUpdate:modelValue":e[2]||(e[2]=t=>o.value.lowHours=t),min:1,max:168},null,8,["modelValue"])]),_:1}),l(u,{label:"中优先级处理时限(小时)",prop:"mediumHours"},{default:r(()=>[l(s,{modelValue:o.value.mediumHours,"onUpdate:modelValue":e[3]||(e[3]=t=>o.value.mediumHours=t),min:1,max:168},null,8,["modelValue"])]),_:1}),l(u,{label:"高优先级处理时限(小时)",prop:"highHours"},{default:r(()=>[l(s,{modelValue:o.value.highHours,"onUpdate:modelValue":e[4]||(e[4]=t=>o.value.highHours=t),min:1,max:168},null,8,["modelValue"])]),_:1}),l(u,null,{default:r(()=>[q((_(),U(f,{type:"primary",onClick:H},{default:r(()=>e[6]||(e[6]=[g("保存")])),_:1,__:[6]})),[[B,["system:config:edit"]]]),l(f,{onClick:m},{default:r(()=>e[7]||(e[7]=[g("重置")])),_:1,__:[7]})]),_:1})]),_:1},8,["model"])]),_:1})])}}});export{G as default};
