import{k as N}from"./user-brpwFzy8.js";import{g as y,r as g,e as C,ac as u,B as U,m as $,C as t,J as o,u as r,G as s}from"./vue-SR65qDCS.js";import"./index-Cw83YE5u.js";import"./element-D8D5Bqo2.js";import"./vendor-C71Ev03J.js";const R={__name:"userInfo",props:{user:{type:Object}},setup(b){const i=b,{proxy:p}=y(),l=g({}),V=g({nickName:[{required:!0,message:"用户昵称不能为空",trigger:"blur"}],email:[{required:!0,message:"邮箱地址不能为空",trigger:"blur"},{type:"email",message:"请输入正确的邮箱地址",trigger:["blur","change"]}],phonenumber:[{required:!0,message:"手机号码不能为空",trigger:"blur"},{pattern:/^1[3|4|5|6|7|8|9][0-9]\d{8}$/,message:"请输入正确的手机号码",trigger:"blur"}]});function c(){p.$refs.userRef.validate(n=>{n&&N(l.value).then(e=>{p.$modal.msgSuccess("修改成功"),i.user.phonenumber=l.value.phonenumber,i.user.email=l.value.email})})}function x(){p.$tab.closePage()}return C(()=>i.user,n=>{n&&(l.value={nickName:n.nickName,phonenumber:n.phonenumber,email:n.email,sex:n.sex})},{immediate:!0}),(n,e)=>{const d=u("el-input"),m=u("el-form-item"),f=u("el-radio"),k=u("el-radio-group"),_=u("el-button"),v=u("el-form");return $(),U(v,{ref:"userRef",model:r(l),rules:r(V),"label-width":"80px"},{default:t(()=>[o(m,{label:"用户昵称",prop:"nickName"},{default:t(()=>[o(d,{modelValue:r(l).nickName,"onUpdate:modelValue":e[0]||(e[0]=a=>r(l).nickName=a),maxlength:"30"},null,8,["modelValue"])]),_:1}),o(m,{label:"手机号码",prop:"phonenumber"},{default:t(()=>[o(d,{modelValue:r(l).phonenumber,"onUpdate:modelValue":e[1]||(e[1]=a=>r(l).phonenumber=a),maxlength:"11"},null,8,["modelValue"])]),_:1}),o(m,{label:"邮箱",prop:"email"},{default:t(()=>[o(d,{modelValue:r(l).email,"onUpdate:modelValue":e[2]||(e[2]=a=>r(l).email=a),maxlength:"50"},null,8,["modelValue"])]),_:1}),o(m,{label:"性别"},{default:t(()=>[o(k,{modelValue:r(l).sex,"onUpdate:modelValue":e[3]||(e[3]=a=>r(l).sex=a)},{default:t(()=>[o(f,{value:"0"},{default:t(()=>e[4]||(e[4]=[s("男")])),_:1,__:[4]}),o(f,{value:"1"},{default:t(()=>e[5]||(e[5]=[s("女")])),_:1,__:[5]})]),_:1},8,["modelValue"])]),_:1}),o(m,null,{default:t(()=>[o(_,{type:"primary",onClick:c},{default:t(()=>e[6]||(e[6]=[s("保存")])),_:1,__:[6]}),o(_,{type:"danger",onClick:x},{default:t(()=>e[7]||(e[7]=[s("关闭")])),_:1,__:[7]})]),_:1})]),_:1},8,["model","rules"])}}};export{R as default};
